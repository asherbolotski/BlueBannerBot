Package
edu.wpi.first.wpilibj2.command
Class DeferredCommand
java.lang.Object
edu.wpi.first.wpilibj2.command.Command
edu.wpi.first.wpilibj2.command.DeferredCommand
All Implemented Interfaces:
Sendable
public class
DeferredCommand
extends
Command
Defers Command construction to runtime. Runs the command returned by a supplier when this command
 is initialized, and ends when it ends. Useful for performing runtime tasks before creating a new
 command. If this command is interrupted, it will cancel the command.
Note that the supplier
must
create a new Command each call. For selecting one of a
 preallocated set of commands, use
SelectCommand
.
This class is provided by the NewCommands VendorDep
Nested Class Summary
Nested classes/interfaces inherited from class edu.wpi.first.wpilibj2.command.
Command
Command.InterruptionBehavior
Constructor Summary
Constructors
Constructor
Description
DeferredCommand
(
Supplier
<
Command
> supplier,
Set
<
Subsystem
> requirements)
Creates a new DeferredCommand that directly runs the supplied command when initialized, and
 ends when it ends.
Method Summary
All Methods
Instance Methods
Concrete Methods
Modifier and Type
Method
Description
void
end
(boolean interrupted)
The action to take when the command ends.
void
execute
()
The main body of a command.
void
initialize
()
The initial subroutine of a command.
void
initSendable
(
SendableBuilder
builder)
Initializes this
Sendable
object.
boolean
isFinished
()
Whether the command has finished.
Methods inherited from class edu.wpi.first.wpilibj2.command.
Command
addRequirements
,
addRequirements
,
alongWith
,
andThen
,
andThen
,
asProxy
,
beforeStarting
,
beforeStarting
,
cancel
,
deadlineFor
,
deadlineWith
,
finallyDo
,
finallyDo
,
getInterruptionBehavior
,
getName
,
getRequirements
,
getSubsystem
,
handleInterrupt
,
hasRequirement
,
ignoringDisable
,
isScheduled
,
onlyIf
,
onlyWhile
,
raceWith
,
repeatedly
,
runsWhenDisabled
,
schedule
,
setName
,
setSubsystem
,
unless
,
until
,
withDeadline
,
withInterruptBehavior
,
withName
,
withTimeout
,
withTimeout
Methods inherited from class java.lang.
Object
clone
,
equals
,
finalize
,
getClass
,
hashCode
,
notify
,
notifyAll
,
toString
,
wait
,
wait
,
wait
Constructor Details
DeferredCommand
public
DeferredCommand
(
Supplier
<
Command
> supplier,
Set
<
Subsystem
> requirements)
Creates a new DeferredCommand that directly runs the supplied command when initialized, and
 ends when it ends. Useful for lazily creating commands when the DeferredCommand is initialized,
 such as if the supplied command depends on runtime state. The
Supplier
will be called
 each time this command is initialized. The Supplier
must
create a new Command each call.
Parameters:
supplier
- The command supplier
requirements
- The command requirements. This is a
Set
to prevent accidental
     omission of command requirements. Use
Set.of()
to easily construct a requirement
     set.
Method Details
initialize
public
void
initialize
()
Description copied from class:
Command
The initial subroutine of a command. Called once when the command is initially scheduled.
Overrides:
initialize
in class
Command
execute
public
void
execute
()
Description copied from class:
Command
The main body of a command. Called repeatedly while the command is scheduled.
Overrides:
execute
in class
Command
isFinished
public
boolean
isFinished
()
Description copied from class:
Command
Whether the command has finished. Once a command finishes, the scheduler will call its end()
 method and un-schedule it.
Overrides:
isFinished
in class
Command
Returns:
whether the command has finished.
end
public
void
end
(boolean interrupted)
Description copied from class:
Command
The action to take when the command ends. Called when either the command finishes normally, or
 when it interrupted/canceled.
Do not schedule commands here that share requirements with this command. Use
Command.andThen(Command...)
instead.
Overrides:
end
in class
Command
Parameters:
interrupted
- whether the command was interrupted/canceled
initSendable
public
void
initSendable
(
SendableBuilder
builder)
Description copied from interface:
Sendable
Initializes this
Sendable
object.
Specified by:
initSendable
in interface
Sendable
Overrides:
initSendable
in class
Command
Parameters:
builder
- sendable builder