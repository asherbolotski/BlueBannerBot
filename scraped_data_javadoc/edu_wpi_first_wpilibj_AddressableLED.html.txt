Package
edu.wpi.first.wpilibj
Class AddressableLED
java.lang.Object
edu.wpi.first.wpilibj.AddressableLED
All Implemented Interfaces:
AutoCloseable
public class
AddressableLED
extends
Object
implements
AutoCloseable
A class for driving addressable LEDs, such as WS2812B, WS2815, and NeoPixels.
By default, the timing supports WS2812B and WS2815 LEDs, but is configurable using
setBitTiming(int, int, int, int)
Some LEDs use a different color order than the default GRB. The color order is configurable
 using
setColorOrder(ColorOrder)
.
Only 1 LED driver is currently supported by the roboRIO. However, multiple LED strips can be
 connected in series and controlled from the single driver.
Nested Class Summary
Nested Classes
Modifier and Type
Class
Description
static enum
AddressableLED.ColorOrder
Order that color data is sent over the wire.
Constructor Summary
Constructors
Constructor
Description
AddressableLED
(int port)
Constructs a new driver for a specific port.
Method Summary
All Methods
Instance Methods
Concrete Methods
Modifier and Type
Method
Description
void
close
()
void
setBitTiming
(int highTime0NanoSeconds,
 int lowTime0NanoSeconds,
 int highTime1NanoSeconds,
 int lowTime1NanoSeconds)
Sets the bit timing.
void
setColorOrder
(
AddressableLED.ColorOrder
order)
Sets the color order for this AddressableLED.
void
setData
(
AddressableLEDBuffer
buffer)
Sets the LED output data.
void
setLength
(int length)
Sets the length of the LED strip.
void
setSyncTime
(int syncTimeMicroSeconds)
Sets the sync time.
void
start
()
Starts the output.
void
stop
()
Stops the output.
Methods inherited from class java.lang.
Object
clone
,
equals
,
finalize
,
getClass
,
hashCode
,
notify
,
notifyAll
,
toString
,
wait
,
wait
,
wait
Constructor Details
AddressableLED
public
AddressableLED
(int port)
Constructs a new driver for a specific port.
Parameters:
port
- the output port to use (Must be a PWM header, not on MXP)
Method Details
close
public
void
close
()
Specified by:
close
in interface
AutoCloseable
setColorOrder
public
void
setColorOrder
(
AddressableLED.ColorOrder
order)
Sets the color order for this AddressableLED. The default order is GRB.
This will take effect on the next call to
setData(AddressableLEDBuffer)
.
Parameters:
order
- the color order
setLength
public
void
setLength
(int length)
Sets the length of the LED strip.
Calling this is an expensive call, so it's best to call it once, then just update data.
The max length is 5460 LEDs.
Parameters:
length
- the strip length
setData
public
void
setData
(
AddressableLEDBuffer
buffer)
Sets the LED output data.
If the output is enabled, this will start writing the next data cycle. It is safe to call,
 even while output is enabled.
Parameters:
buffer
- the buffer to write
setBitTiming
public
void
setBitTiming
(int highTime0NanoSeconds,
 int lowTime0NanoSeconds,
 int highTime1NanoSeconds,
 int lowTime1NanoSeconds)
Sets the bit timing.
By default, the driver is set up to drive WS2812B and WS2815, so nothing needs to be set for
 those.
Parameters:
highTime0NanoSeconds
- high time for 0 bit (default 400ns)
lowTime0NanoSeconds
- low time for 0 bit (default 900ns)
highTime1NanoSeconds
- high time for 1 bit (default 900ns)
lowTime1NanoSeconds
- low time for 1 bit (default 600ns)
setSyncTime
public
void
setSyncTime
(int syncTimeMicroSeconds)
Sets the sync time.
The sync time is the time to hold output so LEDs enable. Default set for WS2812B and WS2815.
Parameters:
syncTimeMicroSeconds
- the sync time (default 280us)
start
public
void
start
()
Starts the output.
The output writes continuously.
stop
public
void
stop
()
Stops the output.